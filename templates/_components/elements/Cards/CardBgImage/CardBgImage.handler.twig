{% import '_macros/helpers' as helpers %}

{#---------- Parameters ----------#}
{% set block = block ?? null %}
{% set blockIndex = blockIndex ?? random() %}
{% set entry = entry ?? null %}

{% set theme = theme ?? "dark" %}
{% set imageSizes = imageSizes ?? "100vw" %}
{% set imageOptions = imageOptions ?? [
	{
		width: 480,
	},
	{
		width: 640,
	},
	{
		width: 1000,
	},
	{
		width: 1600,
	},
	{
		width: 2400,
	},
	{
		width: 3200,
	},
] %}
{% set imageAsset = imageAsset ?? null %}
{% set heading = heading ?? null %}
{% set copy = copy ?? null %}
{% set button = button ?? null %}

{#---------- Output Variables ----------#}
{% set variants = [] %}

{#---------- Data Handling ----------#}
{% set imageDefaultOptions = { fit: 'crop', ar: "366:463" } %}
{% set imageUrl = null %}
{% set imageAlt = null %}

{% if imageAsset|length %}
	
	{% set imageSources = helpers.imageSources(imageAsset, imageOptions, imageDefaultOptions)|spaceless %}
	{% set imageUrl = helpers.imageDefaultSource(imageAsset, imageOptions, imageDefaultOptions)|spaceless %}

	{% set imageAlt = imageAsset.title ?? imageAlt %}

{% endif %}

{#---------- Output ----------#}
{% include "_components/elements/Cards/CardBgImage/CardBgImage" with {
	variants: variants,
	theme: theme,
	imageSizes: imageSizes,
	imageSources: imageSources,
	imageUrl: imageUrl,
	imageAlt: imageAlt,
	heading: heading,
	copy: copy,
	button: button,
} only %}